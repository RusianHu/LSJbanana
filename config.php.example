<?php

// 配置文件
// 存储敏感信息和全局配置

return [
    // Gemini API Key
    'api_key' => 'your-api-key',

    // 模型名称
    'model_name' => 'gemini-3-pro-image-preview',

    // 提示词优化配置
    'prompt_optimize_model' => 'gemini-2.5-flash',
    'prompt_instructs' => [
        'basic' => "你是世界级的AI绘画提示词专家，你的任务是将用户输入的简短提示词扩展为更丰富、更详细、更有表现力的AI绘画提示词。请忠实于原意，补充细节、场景、氛围、构图等信息，提升生成效果。只输出最终扩展后的提示词，不输出思考过程或解释。",
        'detail' => "你是世界级的AI绘画提示词专家，你的任务是将用户输入的简短提示词扩展为极其详细、结构化、客观且详尽的AI绘画提示词。请补充主体、场景、细节、光影、风格、构图等信息，提升生成效果。只输出最终扩展后的提示词，不输出思考过程或解释。",
    ],

    // 默认生成配置
    'generation_config' => [
        'responseModalities' => ['TEXT', 'IMAGE'],
        'imageConfig' => [
            'aspectRatio' => '1:1', // 默认 1:1
            'imageSize' => '1K',    // 默认 1K
        ]
    ],

    // 思维摘要配置
    'thinking_config' => [
        'include_thoughts' => true,
        'thinking_level' => 'HIGH',
    ],

    // 图片保存路径 (相对于项目根目录)
    'upload_dir' => 'uploads/',
    'output_dir' => 'images/',
    
    // 系统限制配置
    'limits' => [
        'memory_limit' => '768M',      // 内存限制
        'max_execution_time' => 60,   // 最大执行时间 (秒)
    ],

    // 调试模式
    'debug' => true,

    // 语音转文字配置
    'speech_to_text' => [
        // 服务提供商配置 (按优先级排序，当启用回退机制时会依次尝试)
        // 目前支持: 'gemini'
        // 未来计划支持: 'whisper', 'azure', 'google_cloud'
        'providers' => ['gemini'],

        // 是否启用回退机制 (当主提供商失败时尝试下一个)
        'enable_fallback' => false,

        // Gemini 提供商配置
        'model' => 'gemini-2.5-flash',  // 使用快速模型进行转录
        'temperature' => 0.1,           // 低温度确保准确转录
        'max_output_tokens' => 2048,
        'timeout' => 60,                // 请求超时时间 (秒)
        'connect_timeout' => 15,        // 连接超时时间 (秒)

        // 音频文件限制
        'max_audio_size' => 10 * 1024 * 1024,  // 最大音频大小 10MB
        'allowed_mime_types' => [
            'audio/webm',
            'audio/mp4',
            'audio/ogg',
            'audio/wav',
            'audio/mpeg',
            'audio/mp3',
        ],

        // 转录提示词 (可自定义以适应不同场景)
        'prompt' => '请将以下音频内容准确转录为文字。只输出转录的文字内容，不要添加任何解释或格式化。如果音频中没有可识别的语音，请返回空字符串。',
    ],
];
